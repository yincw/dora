<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>@yincw/dora</title>
  <!-- AMD，CMD -->
  <!-- <script src="./lib/require.js" data-main="./amd.js"></script> -->
</head>
<body>
  <!-- script，iife，UMD -->
  <!-- <script src="../dist/dora.umd.js"></script>
  <script>
    console.log('dora',dora);
    const getUsers = dora.FunctionUtil.createOverload({
      useFirst: true,
    });

    getUsers.addImpl(function () {
      console.log('查询所有用户');
    });
    getUsers.addImpl(function () {
      console.log('xxxx查询所有用户');
    });
    const searchPage = function (page, pageSize = 10) {
      console.log('按照【页码】和【数量】查询用户');
    }
    getUsers.addImpl('number', searchPage);
    getUsers.addImpl('number', 'number', searchPage);

    getUsers.addImpl('string', function () {
      console.log('按照【姓名】查询用户');
    });

    getUsers.addImpl('string', 'string', function () {
      console.log('按照【性别】查询用户');
    });

    // getUsers();
  </script> -->

  <script>
    // import Dora from '@yincw/dora';
    // import {isNull} from '../es/TypeUtil/isNull.js';
    // console.log('isNull', isNull([]));


    // 函数式编程
    // ============
    // 'use strict';

    var func = function () {
      // 'use strict';
      console.log(this); // => window；严格模式下，undefined
      console.log(this === window); // => true
    };
    // 作为函数调用
    // func();

    // console.log('IIFE');
    //~, !, -, +, (),
    // +function () {
    //   console.log(this); // => window；严格模式下，undefined
    //   console.log(this === window); // => true
    // }();
    // (
    //   function () {
    //     console.log(this); // => window；严格模式下，undefined
    //     console.log(this === window); // => true
    //   }()
    // );
    // (
    //   function () {
    //     console.log(this); // => window；严格模式下，undefined
    //     console.log(this === window); // => true
    //   }
    // )();

    var fun = () => {
      console.log(this); // => window；严格模式下，undefined
      console.log(this === window); // => true
    };
    // fun();

    function ConstructorFunc (value) {
      this.fun = value;
      console.log(this);
    }
    // var obj1 = new ConstructorFunc(20); // => ConstructorFunc

    // 面向对象编程
    // ============
    var obj = {
      name: [1, 2],
      val: 10,
      func: function () {
        console.log(this); // => obj
        console.log(this === obj); // => true
      },
      cha: {
        name: [4, 5],
        val: 11,
        func: function () {
          console.log(this.val); // => obj.cha
          console.log(this === obj.cha); // => true
          return this.name.map( i => `${i} + ${this.val}`);
        }
      },
      point: {
        val: 12,
        func: () => {
          console.log(this); // => window
          console.log(this === window); // => true
        }
      },
    };
    // 作为方法调用
    // obj.func();
    // obj.cha.func();
    // console.log(obj.cha.func());
    // obj.point.func();
    // var obj1 = obj.func;
    // obj1();  // => window
    // obj.cha.func.call(obj); // => true
    // obj.cha.func.apply(obj); // => true

    // class Test {
    //   constructor() {
    //     console.log(this);  // => Test
    //   }

    //   func() {
    //     console.log(this);  // => Test
    //     console.log(this === obj.point); // => true
    //   }
    // };
    // var test = new Test();
    // console.log(test.func());

    // var jsonObj = Math;
    //   console.log(jsonObj);

    //   console.log(typeof jsonObj);
    //   console.log(jsonObj instanceof Object);
    //   console.log(jsonObj instanceof Array);
    //   console.log(jsonObj.constructor);
    //   console.log(jsonObj.__proto__ == Object.prototype);
    //   console.log(jsonObj.__proto__ == Array.prototype);
    //   console.log(Object.getPrototypeOf(jsonObj) == Object.prototype);
    //   console.log( Object.prototype.isPrototypeOf(jsonObj));
    //   console.log( Array.prototype.isPrototypeOf(jsonObj));
    //   console.log(Object.prototype.toString.call(jsonObj));

    // var obj = {};
    // var arr = [];
    // var str = '';
    // var bool = false;
    // var num = 0;
    // var nul = null;
    // var und;

    // // var proxy = new Proxy();
    // // var reflect = new Reflect();
    // var set = new Set();
    // var map = new Map();
    // var wset = new WeakSet();
    // var wmap = new WeakMap();
    // var reg = new RegExp();
    // // var int = new BigInt();
    // var math = Math;
    // var date = new Date();
    // var fun = new Function();
    // var err = new Error();

    // console.log('obj', obj);
    // console.log('arr', arr);
    // console.log('str', str);
    // console.log('bool', bool);
    // console.log('num', num);
    // console.log('nul', nul);
    // console.log('und', und);

    // console.log('set', set);
    // console.log('map', map);
    // console.log('wset', wset);
    // console.log('wmap', wmap);
    // console.log('reg', reg);
    // console.log('math', math);
    // console.log('date', date);
    // console.log('fun', fun);
    // console.log('err', err);

  </script>

</body>
</html>
